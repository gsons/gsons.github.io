<!DOCTYPE HTML>
<html lang="zh-CN">
	<head>
		<meta charset="GB2312">
		<title>PAGE</title>
		<link rel="stylesheet" href="../images/css/book.css">
		<link rel="stylesheet" href="../images/prettify/prettify.css">
		<script type="text/javascript" src="../images/js/jquery-1.10.2.min.js"></script>
		<script type="text/javascript" src="../images/prettify/prettify.js"></script>
		<script type="text/javascript">
			$(function(){	
				$(window).resize(function(){
					$('.book-content').css('min-height', $(window).height() - 130);
				}).resize();
				
				var $code = $(".book-content pre");
				$code.each(function(){
					var $this = $(this), $code = $this.children("code"), lang = $code.attr("class");
					$this.addClass("prettyprint linenums");
					lang && $this.addClass("lang-" + lang);					
				});
				
				//调用高亮插件，高亮代码
				prettyPrint();
				
				//解决表格存在边距的问题
				$("table").attr({"cellspacing":"0", "cellpadding":"0"});
				
				//快捷键翻页
				$(document).keydown(function(event){
					if(event.keyCode == 37){ //上一页
						$(".book-title .prev span").click();
					} else if(event.keyCode == 39) {//下一页
						$(".book-title .next span").click();
					}
				});
				
			});
		</script>
	</head>
	<body>
		<div class="book-title">
			<h1>PAGE</h1>
            <div class="page"><a title="上一页" class="prev" href="62.html"><span>上一页</span></a><a title="下一页" class="next" href="64.html"><span>下一页</span></a></div>
            <div class="description"></div>
		</div>
		<div class="book-content"><p>page方法也是模型的连贯操作方法之一，是完全为分页查询而诞生的一个人性化操作方法。</p>

<p>我们在前面已经了解了关于limit方法用于分页查询的情况，而page方法则是更人性化的进行分页查询的方法，例如还是以文章列表分页为例来说，如果使用limit方法，我们要查询第一页和第二页（假设我们每页输出10条数据）写法如下：</p>

<pre><code>$Article = M('Article');
$Article-&gt;limit('0,10')-&gt;select(); // 查询第一页数据
$Article-&gt;limit('10,10')-&gt;select(); // 查询第二页数据
</code></pre>

<p>虽然利用扩展类库中的分页类Page可以自动计算出每个分页的limit参数，但是如果要自己写就比较费力了，如果用page方法来写则简单多了，例如：</p>

<pre><code>$Article = M('Article');
$Article-&gt;page('1,10')-&gt;select(); // 查询第一页数据
$Article-&gt;page('2,10')-&gt;select(); // 查询第二页数据
</code></pre>

<p>显而易见的是，使用page方法你不需要计算每个分页数据的起始位置，page方法内部会自动计算。</p>

<p>3.1版本以后，page方法也支持2个参数的写法，例如：</p>

<pre><code>$Article-&gt;page(1,10)-&gt;select();
</code></pre>

<p>和</p>

<pre><code>$Article-&gt;page('1,10')-&gt;select();
</code></pre>

<p>等效。</p>

<p>page方法还可以和limit方法配合使用，例如：</p>

<pre><code>$Article-&gt;limit(25)-&gt;page(3)-&gt;select();
</code></pre>

<p>当page方法只有一个值传入的时候，表示第几页，而limit方法则用于设置每页显示的数量，也就是说上面的写法等同于：</p>

<pre><code>$Article-&gt;page('3,25')-&gt;select(); 
</code></pre>
</div>
		<div class="book-footer">
			<div class="page"><a title="上一页" class="prev" href="62.html"><span>上一页</span></a><a title="下一页" class="next" href="64.html"><span>下一页</span></a></div>
		</div>
	</body>
</html>
