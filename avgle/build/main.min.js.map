{"version":3,"sources":["app.js","config.js","router.js","directive.js","ionicLazyLoad.js","ngStorage.js","service.js","demo/demo.js","home/home.js","list/list.js","person/person.js","search/search.js","star/star.js","view/view.js"],"names":["app","angular","module","config","$ionicConfigProvider","$sceDelegateProvider","scrolling","jsScrolling","platform","ios","tabs","style","position","android","spinner","icon","navBar","alignTitle","views","transition","$httpProvider","interceptors","push","factory","$rootScope","$q","$location","$timeout","$window","response","toState","path","headers","run","$ionicViewSwitcher","$state","$stateParams","$localStorage","$http","$goback","history","back","nextDirection","$refresh","location","reload","$search","go","$on","event","to","toParams","from","fromParams","previousState","previousStateParams","fromState","constant","host","port","$stateProvider","$urlRouterProvider","state","url","templateUrl","$tplVersion","abstract","tab-home","controller","cache","tab-list","tab-person","otherwise","directive","scope","ngsrc","ngopt","link","$scope","$dom","src","dom_image","element","offset","split","scale","width","screen","parseInt","height","image","Image","onload","$compile","restrict","replace","model","attrs","data","show","html","append","iAttrs","bind","ele","document","getElementById","classList","add","className","left","pageX","top","pageY","remove","$confirm","Toast","$ionicListDelegate","priority","btnOption","viewOption","view","video","view1","view2","save","vo","list","saveList","flag","i","vid","unshift","closeOptionButtons","delete","index","title","videos","splice","keywords","template","keywordArr","origEvent","$onScroll","$broadcast","$document","$ionicScrollDelegate","lazyScrollResize","imageLazyBackgroundImage","imageLazySrc","$element","$attributes","loader","imageLazyDistanceFromBottomToLoad","imageLazyDistanceFromRightToLoad","imageLazyLoader","after","$watch","oldV","newV","deregistration","isInView","loadImage","e","resize","unbind","this","bgImg","backgroundImage","clientHeight","documentElement","clientWidth","imageRect","getBoundingClientRect","on","_storageFactory","storageType","_last$storage","_debounce","k","webStorage","console","warn","$storage","$default","items","isDefined","$reset","length","key","slice","fromJson","getItem","copy","setTimeout","equals","forEach","v","setItem","toJson","removeItem","addEventListener","newValue","$apply","$ionicLoading","_showBackdrop","_content","_icon","_class","showBackdrop","mclass","content","animation","minWidth","showDelay","hide","$ionicPopup","_option","_callback","_callback_cancle","callback","callback_cancle","confirm","buttons","text","type","onTap","then","res","filter","_time","time","date","Date","nowtime","getTime","toDateString","formatDate","getMonth","getFullYear","fmt","obj","y","undefined","M","d","getDate","q","Math","floor","w","getDay","H","getHours","h","m","getMinutes","s","getSeconds","S","getMilliseconds","week","RegExp","val","j","len","substring","WAP_CONFIG","$log","_api","endpoint","post","deferred","defer","timeout","success","header","status","resolve","error","msg","code","reject","promise","get","_status","keyWord","arr1","arr2","Api","$loading","$sessionStorage","toggleShow","categories","showItem","dom","offsetLeft","offsetWidth","body","$getByHandle","scrollTo","categoryId","init","_order","_page","_limit","order","page","limit","has_more","slideVideos","allVideo","searchKey","scrollTop","concat","loadNextPage","log","isBtnTop","scroll","getScrollPosition","$event","target","getVideoByCHID","chid","change","goStar","searchVideo","_keyword","keyword","search","encodeURIComponent","submit","focus","$sce","video_src","trustAsResourceUrl","embedded_url"],"mappings":"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","file":"main.min.js","sourcesContent":["var app = angular.module('app', ['ionic', 'ngStorage','ionicLazyLoad']);\r\n\r\napp.config(function($ionicConfigProvider, $sceDelegateProvider) {\r\n    //$sceDelegateProvider.resourceUrlWhitelist([ 'self','*://www.youtube.com/**', '*://player.vimeo.com/video/**']);\r\n    $ionicConfigProvider.scrolling.jsScrolling(false);\r\n    $ionicConfigProvider.platform.ios.tabs.style('standard');\r\n    $ionicConfigProvider.platform.ios.tabs.position('bottom');\r\n    $ionicConfigProvider.platform.android.tabs.style('standard');\r\n    $ionicConfigProvider.platform.android.spinner.icon(\"ios\");\r\n    $ionicConfigProvider.platform.android.tabs.position('standard');\r\n    $ionicConfigProvider.platform.ios.navBar.alignTitle('center');\r\n    $ionicConfigProvider.platform.android.navBar.alignTitle('bottom');\r\n    $ionicConfigProvider.platform.ios.views.transition('ios');\r\n    $ionicConfigProvider.platform.android.views.transition('android');\r\n})\r\n\r\napp.config(function($httpProvider) {\r\n    $httpProvider.interceptors.push('AuthInterceptor');\r\n})\r\napp.factory('AuthInterceptor', function($rootScope, $q, $location, $timeout, $window) {\r\n    return {\r\n        response: function(response, toState) {\r\n            var path = $location.path();\r\n            var header = response.headers();\r\n            return response;\r\n        }\r\n    };\r\n})\r\napp.run(function($ionicViewSwitcher,$window, $rootScope, $state, $stateParams, $localStorage, $http, $q, $location) {\r\n    $rootScope.$state = $state;\r\n    $rootScope.$stateParams = $stateParams;\r\n    $rootScope.$goback = function() {\r\n        $window.history.back();\r\n        $ionicViewSwitcher.nextDirection(\"back\");\r\n    }\r\n    $rootScope.$refresh = function() {\r\n        $window.location.reload();\r\n    }\r\n    $rootScope.$search = function() {\r\n        $state.go(\"search\");\r\n        $ionicViewSwitcher.nextDirection(\"forward\");   \r\n    }\r\n    $rootScope.$on('$stateChangeSuccess', function(event, to, toParams, from, fromParams, toState) {\r\n        $rootScope.previousState = from;\r\n        $rootScope.previousStateParams = fromParams;\r\n    });\r\n\r\n    $rootScope.$on(\"$stateChangeStart\", function(event, toState, toParams, fromState, fromParams) {\r\n        // ionic.Platform.setPlatform('ios');\r\n    })\r\n})","app.constant('WAP_CONFIG', {\r\n        host: 'https://api.avgle.com',\r\n        port: 443,\r\n        path: '/v1/',\r\n        platform: 'browser' // \r\n    })"," app.config(function($stateProvider, $urlRouterProvider) {\r\n\r\n     $stateProvider\r\n         .state('app', {\r\n             url: '/app',\r\n             templateUrl: 'tpl/app.html?v=' + $tplVersion,\r\n             abstract: true\r\n         })\r\n\r\n         .state('app.home', {\r\n             url: '/home',\r\n             views: {\r\n                 'tab-home': {\r\n                     templateUrl: 'tpl/home.html?v=' + $tplVersion,\r\n                     controller: 'homeCtrl',\r\n                     cache:true\r\n                 }\r\n             }\r\n         })\r\n\r\n         .state('app.list', {\r\n             url: '/list',\r\n             views: {\r\n                 'tab-list': {\r\n                     templateUrl: 'tpl/list.html?v=' + $tplVersion,\r\n                     controller: 'listCtrl',\r\n                     cache:true\r\n                 }\r\n             }\r\n         })\r\n         \r\n         .state('app.person', {\r\n             url: '/person',\r\n             views: {\r\n                 'tab-person': {\r\n                     templateUrl: 'tpl/person.html?v=' + $tplVersion,\r\n                     controller: 'personCtrl',\r\n                     cache:true\r\n                 }\r\n             }\r\n         })\r\n\r\n         .state('view', {\r\n             url: '/view',\r\n             templateUrl: 'tpl/view.html?v=' + $tplVersion,\r\n             controller: 'viewCtrl',\r\n             cache:true\r\n         })\r\n\r\n         .state('star', {\r\n             url: '/star',\r\n             templateUrl: 'tpl/star.html?v=' + $tplVersion,\r\n             controller: 'starCtrl',\r\n             cache:true\r\n         })\r\n\r\n          .state('demo', {\r\n             url: '/demo',\r\n             templateUrl: 'tpl/demo.html?v=' + $tplVersion,\r\n             controller: 'demoCtrl',\r\n             cache:true\r\n         })\r\n         .state('search', {\r\n             url: '/search?key',\r\n             templateUrl: 'tpl/search.html?v=' + $tplVersion,\r\n             controller: 'searchCtrl',\r\n             cache:true\r\n         })\r\n\r\n\r\n\r\n     $urlRouterProvider.otherwise('/app/home');\r\n });","app.directive('ionImg', function() {\r\n    return {\r\n        scope: {\r\n            ngsrc: '@',\r\n            ngopt: '@',\r\n        },\r\n        link: function($scope, $dom) {\r\n            var src = $scope.ngsrc;\r\n            var ngopt = $scope.ngopt;\r\n            var dom_image = angular.element($dom)[0];\r\n            var img_src_default = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAIAAAADwcZiAAAAW0lEQVRYCe3SMQ7AMAzDwLb//6k/UWTnyGQJPWqQgIPfmXmO33d8cQ22ups94YQ9gb7Js+SmhNnFSxP2LLkpYXbx0oQ9S25KmF28NGHPkpsSZhcvTdiz5KabhH9OFAMPqToRyQAAAABJRU5ErkJggg==\";\r\n            dom_image.src = img_src_default;\r\n            if (ngopt) {\r\n                var ngopt = ngopt.split(',');\r\n                var offset = ngopt[0];\r\n                var scale = ngopt[1];\r\n                dom_image.width = screen.width + parseInt(offset);\r\n                dom_image.height = dom_image.width * scale;\r\n            }\r\n            var image = new Image();\r\n            image.src = src;\r\n            image.onload = function() {\r\n                dom_image.src = src;\r\n            }\r\n        },\r\n    };\r\n});\r\napp.directive('ionInput', ['$compile', function($compile) {\r\n    // Runs during compile\r\n    return {\r\n        restrict: 'AE',\r\n        replace: false,\r\n        scope: {\r\n            model: '=',\r\n        },\r\n        link: function(scope, element, attrs, controller) {\r\n            scope.data = 1;\r\n            scope.show = function() {\r\n                scope.data++;\r\n            };\r\n            var template = \"<input type='number' ng-model='data'> <button ng-click='show()'>show</button>\";\r\n            var html = $compile(template)(scope);\r\n            element.append(html);\r\n        }\r\n    };\r\n}])\r\n/**\r\n *rjHoldActive指令\r\n *产生一种数据动态涟漪效果\r\n */\r\napp.directive('rjHoldActive', function($timeout) {\r\n    return {\r\n        restrict: 'AE',\r\n        replace: false,\r\n        link: function(scope, element, iAttrs, controller) {\r\n            element.bind(\"click\", function(event) {\r\n                var ele = document.getElementById(\"ripple\");\r\n                if (ele.classList) ele.classList.add(\"animate\");\r\n                else ele.className += \" animate\";\r\n                ele.style.left = (event.pageX - 20) + \"px\";\r\n                ele.style.top = (event.pageY - 20) + \"px\";\r\n                $timeout(function() {\r\n                    ele.style.left = \"-40px\";\r\n                    ele.style.top = \"-40px\";\r\n                    if (ele.classList) ele.classList.remove(\"animate\");\r\n                    else ele.className = ele.className.replace('animate', '');\r\n\r\n                }, 200);\r\n            });\r\n        }\r\n    };\r\n});\r\n\r\napp.directive('ionMovie', function($confirm, $state, $localStorage, Toast, $ionicViewSwitcher, $ionicListDelegate, $rootScope) {\r\n    return {\r\n        restrict: 'AE',\r\n        replace: false,\r\n        scope: false,\r\n        priority: 1001,\r\n        templateUrl: \"tpl/component.html\",\r\n        // template:'<ion-item  class=\"item-thumbnail-left\" ng-click=\"view(vo)\"><img image-lazy-src=\"{{vo.preview_url}}\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAIAAAADwcZiAAAAW0lEQVRYCe3SMQ7AMAzDwLb//6k/UWTnyGQJPWqQgIPfmXmO33d8cQ22ups94YQ9gb7Js+SmhNnFSxP2LLkpYXbx0oQ9S25KmF28NGHPkpsSZhcvTdiz5KabhH9OFAMPqToRyQAAAABJRU5ErkJggg==\"><h3 style=\"white-space: initial;max-height: 62px;line-height:20px;\">{{vo.title}}</h3><p><button class=\"button-assertive button button-small btn-keyword\" ng-click=\"$event.stopPropagation()\" ui-sref=\"search({key:vo.keyword})\">{{vo.keyword}}</button></p><ion-option-button class=\"button-calm\" ng-click=\"save(vo)\">收藏</ion-option-button></ion-item>',\r\n        link: function(scope, element, attrs, controller) {\r\n            scope.btnOption=scope.btnOption||1;\r\n            scope.viewOption=scope.viewOption||1;\r\n            scope.view=function(video){\r\n               if(scope.viewOption==1){\r\n                   scope.view1(video);\r\n               }\r\n               else if(scope.viewOption==2){\r\n                   scope.view2(video);\r\n               }\r\n            }\r\n            scope.view1 = function(video) {\r\n                $localStorage.video = video;\r\n                $state.go(\"view\");\r\n                $ionicViewSwitcher.nextDirection(\"forward\");\r\n            }\r\n\r\n            scope.save = function(vo) {\r\n                var list = $localStorage.saveList || [];\r\n                var flag = false;\r\n                for (var i in list) {\r\n                    if (list[i].vid == vo.vid) {\r\n                        flag = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!flag) list.unshift(vo);\r\n                else {\r\n                    Toast.show(\"您已经收藏了该电影\");\r\n                }\r\n                $localStorage.saveList = list;\r\n                $ionicListDelegate.closeOptionButtons();\r\n            }\r\n\r\n            scope.view2 = function(video) {\r\n                $localStorage.video = video;\r\n                $state.go(\"view\", {}, { reload: true })\r\n            }\r\n\r\n            scope.delete = function(index) {\r\n                $confirm.show({ title: \"确定要删除吗\" }, function() {\r\n                    $scope.videos.splice(index, 1);\r\n                    $localStorage.saveList = $scope.videos;\r\n                    $ionicListDelegate.closeOptionButtons();\r\n                }, function() { $ionicListDelegate.closeOptionButtons(); });\r\n            }\r\n        }\r\n    };\r\n});\r\n\r\napp.directive('labelKeyword', ['$compile', function($compile) {\r\n    return {\r\n        restrict: 'AE',\r\n        replace: false,\r\n        priority: 1001,\r\n        scope: {\r\n            keywords: '@',\r\n        },\r\n        template: '<button ng-repeat=\"vo in keywordArr\" class=\"button-assertive button button-small btn-keyword\" ng-click=\"$event.stopPropagation()\" ui-sref=\"search({key:vo})\">{{vo}}</button>',\r\n        link: function(scope, element, attrs, controller) {\r\n            scope.keywordArr = scope.keywords.split(' ');\r\n        }\r\n    };\r\n}])","/**\r\n * Created by PAVEI on 30/09/2014.\r\n * Updated by Ross Martin on 12/05/2014\r\n * Updated by Davide Pastore on 04/14/2015\r\n * Updated by Michel Vidailhet on 05/12/2015\r\n * Updated by Rene Korss on 11/25/2015\r\n */\r\n\r\nangular.module('ionicLazyLoad', []);\r\n\r\nangular.module('ionicLazyLoad')\r\n\r\n.directive('lazyScroll', ['$rootScope',\r\n    function($rootScope) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function ($scope) {\r\n                var origEvent = $scope.$onScroll;\r\n                $scope.$onScroll = function () {\r\n                    $rootScope.$broadcast('lazyScrollEvent');\r\n\r\n                    if(typeof origEvent === 'function'){\r\n                      origEvent();\r\n                    }\r\n                };\r\n            }\r\n        };\r\n}])\r\n\r\n.directive('imageLazySrc', ['$document', '$timeout', '$ionicScrollDelegate', '$compile',\r\n    function ($document, $timeout, $ionicScrollDelegate, $compile) {\r\n        return {\r\n            restrict: 'A',\r\n            scope: {\r\n                lazyScrollResize: \"@lazyScrollResize\",\r\n                imageLazyBackgroundImage: \"@imageLazyBackgroundImage\",\r\n                imageLazySrc: \"@\"\r\n            },\r\n            link: function ($scope, $element, $attributes) {\r\n                if (!$attributes.imageLazyDistanceFromBottomToLoad) {\r\n                    $attributes.imageLazyDistanceFromBottomToLoad = 0;\r\n                }\r\n                if (!$attributes.imageLazyDistanceFromRightToLoad) {\r\n                    $attributes.imageLazyDistanceFromRightToLoad = 0;\r\n                }\r\n\r\n                var loader;\r\n                if ($attributes.imageLazyLoader) {\r\n                    loader = $compile('<div class=\"image-loader-container\"><ion-spinner class=\"image-loader\" icon=\"' + $attributes.imageLazyLoader + '\"></ion-spinner></div>')($scope);\r\n                    $element.after(loader);\r\n                }\r\n\r\n                $scope.$watch('imageLazySrc', function (oldV, newV) {\r\n                    if(loader)\r\n                        loader.remove();\r\n                    if ($attributes.imageLazyLoader) {\r\n                        loader = $compile('<div class=\"image-loader-container\"><ion-spinner class=\"image-loader\" icon=\"' + $attributes.imageLazyLoader + '\"></ion-spinner></div>')($scope);\r\n                        $element.after(loader);\r\n                    }\r\n                    var deregistration = $scope.$on('lazyScrollEvent', function () {\r\n                        //    console.log('scroll');\r\n                            if (isInView()) {\r\n                                loadImage();\r\n                                deregistration();\r\n                            }\r\n                        }\r\n                    );\r\n                    $timeout(function () {\r\n                        if (isInView()) {\r\n                            loadImage();\r\n                            deregistration();\r\n                        }\r\n                    }, 500);\r\n                });\r\n                var deregistration = $scope.$on('lazyScrollEvent', function () {\r\n                       // console.log('scroll');\r\n                        if (isInView()) {\r\n                            loadImage();\r\n                            deregistration();\r\n                        }\r\n                    }\r\n                );\r\n\r\n                function loadImage() {\r\n                    //Bind \"load\" event\r\n                    $element.bind(\"load\", function (e) {\r\n                        if ($attributes.imageLazyLoader) {\r\n                            loader.remove();\r\n                        }\r\n                        if ($scope.lazyScrollResize == \"true\") {\r\n                            //Call the resize to recalculate the size of the screen\r\n                            $ionicScrollDelegate.resize();\r\n                        }\r\n                        $element.unbind(\"load\");\r\n                    });\r\n                    $element.bind(\"error\", function (e) {\r\n                        this.src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAIAAAADwcZiAAAAW0lEQVRYCe3SMQ7AMAzDwLb//6k/UWTnyGQJPWqQgIPfmXmO33d8cQ22ups94YQ9gb7Js+SmhNnFSxP2LLkpYXbx0oQ9S25KmF28NGHPkpsSZhcvTdiz5KabhH9OFAMPqToRyQAAAABJRU5ErkJggg=='\r\n                    });\r\n\r\n                    if ($scope.imageLazyBackgroundImage == \"true\") {\r\n                        var bgImg = new Image();\r\n                        bgImg.onload = function () {\r\n                            if ($attributes.imageLazyLoader) {\r\n                                loader.remove();\r\n                            }\r\n                            $element[0].style.backgroundImage = 'url(' + $attributes.imageLazySrc + ')'; // set style attribute on element (it will load image)\r\n                            if ($scope.lazyScrollResize == \"true\") {\r\n                                //Call the resize to recalculate the size of the screen\r\n                                $ionicScrollDelegate.resize();\r\n                            }\r\n                        };\r\n                        bgImg.src = $attributes.imageLazySrc;\r\n                    } else {\r\n                        $element[0].src = $attributes.imageLazySrc; // set src attribute on element (it will load image)\r\n                    }\r\n                }\r\n\r\n                function isInView() {\r\n                    var clientHeight = $document[0].documentElement.clientHeight;\r\n                    var clientWidth = $document[0].documentElement.clientWidth;\r\n                    var imageRect = $element[0].getBoundingClientRect();\r\n                    return (imageRect.top >= 0 && imageRect.top <= clientHeight + parseInt($attributes.imageLazyDistanceFromBottomToLoad))\r\n                        && (imageRect.left >= 0 && imageRect.left <= clientWidth + parseInt($attributes.imageLazyDistanceFromRightToLoad));\r\n                }\r\n\r\n                // bind listener\r\n                // listenerRemover = scrollAndResizeListener.bindListener(isInView);\r\n\r\n                // unbind event listeners if element was destroyed\r\n                // it happens when you change view, etc\r\n                $element.on('$destroy', function () {\r\n                    deregistration();\r\n                });\r\n\r\n                // explicitly call scroll listener (because, some images are in viewport already and we haven't scrolled yet)\r\n                $timeout(function () {\r\n                    if (isInView()) {\r\n                        loadImage();\r\n                        deregistration();\r\n                    }\r\n                }, 500);\r\n            }\r\n        };\r\n    }]);\r\n","'use strict';\r\n\r\n(function() {\r\n\r\n    /**\r\n     * @ngdoc overview\r\n     * @name ngStorage\r\n     */\r\n\r\n    angular.module('ngStorage', []).\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name ngStorage.$localStorage\r\n     * @requires $rootScope\r\n     * @requires $window\r\n     */\r\n\r\n    factory('$localStorage', _storageFactory('localStorage')).\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name ngStorage.$sessionStorage\r\n     * @requires $rootScope\r\n     * @requires $window\r\n     */\r\n\r\n    factory('$sessionStorage', _storageFactory('sessionStorage'));\r\n\r\n    function _storageFactory(storageType) {\r\n        return [\r\n            '$rootScope',\r\n            '$window',\r\n\r\n            function(\r\n                $rootScope,\r\n                $window\r\n            ){\r\n                // #9: Assign a placeholder object if Web Storage is unavailable to prevent breaking the entire AngularJS app\r\n                var webStorage = $window[storageType] || (console.warn('This browser does not support Web Storage!'), {}),\r\n                    $storage = {\r\n                        $default: function(items) {\r\n                            for (var k in items) {\r\n                                angular.isDefined($storage[k]) || ($storage[k] = items[k]);\r\n                            }\r\n\r\n                            return $storage;\r\n                        },\r\n                        $reset: function(items) {\r\n                            for (var k in $storage) {\r\n                                '$' === k[0] || delete $storage[k];\r\n                            }\r\n\r\n                            return $storage.$default(items);\r\n                        }\r\n                    },\r\n                    _last$storage,\r\n                    _debounce;\r\n\r\n                for (var i = 0, k; i < webStorage.length; i++) {\r\n                    // #8, #10: `webStorage.key(i)` may be an empty string (or throw an exception in IE9 if `webStorage` is empty)\r\n                    (k = webStorage.key(i)) && 'ngStorage-' === k.slice(0, 10) && ($storage[k.slice(10)] = angular.fromJson(webStorage.getItem(k)));\r\n                }\r\n\r\n                _last$storage = angular.copy($storage);\r\n\r\n                $rootScope.$watch(function() {\r\n                    _debounce || (_debounce = setTimeout(function() {\r\n                        _debounce = null;\r\n\r\n                        if (!angular.equals($storage, _last$storage)) {\r\n                            angular.forEach($storage, function(v, k) {\r\n                                angular.isDefined(v) && '$' !== k[0] && webStorage.setItem('ngStorage-' + k, angular.toJson(v));\r\n\r\n                                delete _last$storage[k];\r\n                            });\r\n\r\n                            for (var k in _last$storage) {\r\n                                webStorage.removeItem('ngStorage-' + k);\r\n                            }\r\n\r\n                            _last$storage = angular.copy($storage);\r\n                        }\r\n                    }, 100));\r\n                });\r\n\r\n                // #6: Use `$window.addEventListener` instead of `angular.element` to avoid the jQuery-specific `event.originalEvent`\r\n                'localStorage' === storageType && $window.addEventListener && $window.addEventListener('storage', function(event) {\r\n                    if ('ngStorage-' === event.key.slice(0, 10)) {\r\n                        event.newValue ? $storage[event.key.slice(10)] = angular.fromJson(event.newValue) : delete $storage[event.key.slice(10)];\r\n\r\n                        _last$storage = angular.copy($storage);\r\n\r\n                        $rootScope.$apply();\r\n                    }\r\n                });\r\n\r\n                return $storage;\r\n            }\r\n        ];\r\n    }\r\n\r\n})();\r\n","     app.factory('$loading', function($ionicLoading) {\r\n         return {\r\n             show: function(_showBackdrop, _content, _icon, _class) {\r\n                 var showBackdrop = _showBackdrop || false;\r\n                 var icon = _icon || 'ios';\r\n                 var mclass = _class || '';\r\n                 var content = _content || \"\";\r\n                 var style = showBackdrop ? \"<style>.loading-container .loading{background-color: rgba(0, 0, 0,0.6);}</style>\" :\r\n                     \"<style>.loading-container .loading{background-color: rgba(0, 0, 0,0.2);}</style>\";\r\n                 $ionicLoading.show({\r\n                     template: style + '<ion-spinner icon=\"' + icon + '\" class=\"' + mclass + '\"></ion-spinner><div>' + content + '</div>',\r\n                     content: 'Loading',\r\n                     animation: '',\r\n                     showBackdrop: showBackdrop,\r\n                     minWidth: 500,\r\n                     showDelay: 0\r\n                 });\r\n             },\r\n             hide: function() {\r\n                 $ionicLoading.hide();\r\n             }\r\n         }\r\n     });\r\n     app.factory(\"$confirm\", function($ionicPopup) {\r\n         return {\r\n             show: function(_option, _callback, _callback_cancle) {\r\n                 var title = _option.title || '提示';\r\n                 var content = _option.content || '';\r\n                 var callback = _callback || function() {};\r\n                 var callback_cancle = _callback_cancle || function() {};\r\n                 var popup = $ionicPopup.confirm({\r\n                     template: content,\r\n                     title: title,\r\n                     buttons: [{\r\n                         text: '确定',\r\n                         type: 'button-positive',\r\n                         onTap: function(e) {\r\n                             return 1;\r\n                         }\r\n                     }, {\r\n                         text: '取消',\r\n                         type: 'button-assertive',\r\n                     }]\r\n                 });\r\n                 popup.then(function(res) {\r\n                     if (res) {\r\n                         callback();\r\n                     } else {\r\n                         callback_cancle();\r\n                     }\r\n                 })\r\n             },\r\n         }\r\n     });\r\n     app.filter('Datetranslater', function() {\r\n\r\n         return function(_time) {\r\n             var time = _time;\r\n             var date = new Date(time);\r\n             var nowtime = new Date().getTime();\r\n             //当天\r\n             if (date.toDateString() === new Date().toDateString()) {\r\n                 return formatDate(date, 'HH:mm');\r\n             }\r\n             //六天以内\r\n             else if (nowtime - time < 6 * 24 * 60 * 60 * 1000) {\r\n                 return formatDate(date, 'w HH:mm');\r\n             }\r\n             //本月\r\n             else if (date.getMonth() == new Date().getMonth() && date.getFullYear() == new Date().getFullYear()) {\r\n                 return formatDate(date, 'MM-dd HH:mm');\r\n             } else if (date.getFullYear() == new Date().getFullYear()) {\r\n                 return formatDate(date, 'yyyy-MM-dd HH:mm');\r\n             } else {\r\n                 return formatDate(date, 'yyyy-MM-dd HH:mm');\r\n             }\r\n\r\n         }\r\n\r\n         function formatDate(date, fmt) {\r\n             date = date == undefined ? new Date() : date;\r\n             date = typeof date == 'number' ? new Date(date) : date;\r\n             fmt = fmt || 'yyyy-MM-dd HH:mm:ss';\r\n             var obj = {\r\n                 'y': date.getFullYear(), // 年份，注意必须用getFullYear\r\n                 'M': date.getMonth() + 1, // 月份，注意是从0-11\r\n                 'd': date.getDate(), // 日期\r\n                 'q': Math.floor((date.getMonth() + 3) / 3), // 季度\r\n                 'w': date.getDay(), // 星期，注意是0-6\r\n                 'H': date.getHours(), // 24小时制\r\n                 'h': date.getHours() % 12 == 0 ? 12 : date.getHours() % 12, // 12小时制\r\n                 'm': date.getMinutes(), // 分钟\r\n                 's': date.getSeconds(), // 秒\r\n                 'S': date.getMilliseconds() // 毫秒\r\n             };\r\n             var week = ['日', '一', '二', '三', '四', '五', '六'];\r\n             for (var i in obj) {\r\n                 fmt = fmt.replace(new RegExp(i + '+', 'g'), function(m) {\r\n                     var val = obj[i] + '';\r\n                     if (i == 'w') return (m.length > 2 ? '星期' : '周') + week[val];\r\n                     for (var j = 0, len = val.length; j < m.length - len; j++) val = '0' + val;\r\n                     return m.length == 1 ? val : val.substring(val.length - m.length);\r\n                 });\r\n             }\r\n             return fmt;\r\n         }\r\n\r\n\r\n     });\r\n     app.factory('Api', [\"$http\", \"WAP_CONFIG\", \"$q\", \"$log\",\"$ionicLoading\",\"$timeout\",function($http, WAP_CONFIG, $q, $log,$ionicLoading,$timeout) {  \r\n        var _api = WAP_CONFIG;  \r\n        var endpoint = _api.host + ':' + _api.port+_api.path;  \r\n  \r\n        // public api  \r\n        return {  \r\n            //发送服务器的域名+端口， \r\n            endpoint: endpoint,  \r\n  \r\n            //post请求，第一个参数是URL，第二个参数是向服务器发送的参数（JSON对象），  \r\n            post: function(url, data) {  \r\n                url = endpoint + url;  \r\n                var _timeout=5000;\r\n                var deferred = $q.defer();  \r\n                var tempPromise;  \r\n                //显示加载进度  \r\n                $ionicLoading.show({  \r\n                    template: '加载中...'  \r\n                });  \r\n                //判断用户是否传递了参数，如果有参数需要传递参数  \r\n                if(data != null && data != undefined && data != \"\"){  \r\n                    tempPromise = $http.post(url,data,{timeout:_timeout});  \r\n                }else{  \r\n                    tempPromise = $http.post(url,{timeout:_timeout});  \r\n                }  \r\n                tempPromise.success(function(data,header,config,status) {  \r\n                    deferred.resolve(data);  \r\n                    $ionicLoading.hide();  \r\n                }).error(function(msg, code) {  \r\n                    deferred.reject(msg);  \r\n                    $log.error(msg, code);  \r\n                    $ionicLoading.hide(); \r\n                    $ionicLoading.show({  \r\n                    template: '出错了...'  \r\n                    });\r\n                    $timeout(function(){$ionicLoading.hide()},1000);  \r\n                });  \r\n                return deferred.promise;  \r\n            },  \r\n  \r\n            //get请求，第一个参数是URL，第二个参数是向服务器发送的参数（JSON对象），  \r\n            get: function(url, data) {  \r\n                url = endpoint + url;  \r\n                var deferred = $q.defer();  \r\n                var tempPromise;  \r\n                var _timeout=5000;\r\n                //显示加载进度  \r\n                $ionicLoading.show({  \r\n                    template: '加载中...'  \r\n                });  \r\n                //判断用户是否传递了参数，如果有参数需要传递参数  \r\n                if(data != null && data != undefined && data != \"\"){  \r\n                    tempPromise = $http.get(url,data,{timeout:_timeout});  \r\n                }else{  \r\n                    tempPromise = $http.get(url,{timeout:_timeout});  \r\n                }  \r\n                tempPromise.success(function(data,header,config,status) {  \r\n                    deferred.resolve(data);  \r\n                    $ionicLoading.hide();  \r\n                }).error(function(msg, code) {  \r\n                    deferred.reject(msg);  \r\n                    $ionicLoading.hide();  \r\n                    $log.error(msg, code);  \r\n                    $ionicLoading.show({  \r\n                    template: '<i class=\"icon ion-android-warning assertive\"></i> 出错了'  \r\n                    });\r\n                    $timeout(function(){$ionicLoading.hide()},1000);  \r\n                });  \r\n                return deferred.promise;  \r\n            }  \r\n        };  \r\n  \r\n    }]);\r\n   app.factory(\"Toast\",function($timeout,$ionicLoading){\r\n      return {\r\n         show:function(content,_status){\r\n             var status=_status||'info';\r\n             if(status=='error'){\r\n                var _class=\"icon ion-android-alert assertive\";\r\n             }\r\n             else if(status==\"success\"){\r\n                var _class=\"icon ion-android-alert positive\";\r\n             }\r\n             else if(status==\"info\"){\r\n                var _class=\"icon ion-android-alert calm\";\r\n             }\r\n             $ionicLoading.show({  \r\n                 template: '<i class=\"'+_class+'\">  '+content+'</i>'\r\n             });\r\n             $timeout(function(){$ionicLoading.hide()},1500);\r\n         }\r\n      }\r\n   });\r\napp.filter('keyWord', function() {\r\n     return function(keyWord){\r\n         var arr1=keyWord.split(\" \");\r\n         var arr2=keyWord.split(\",\");\r\n         return arr1[0]||arr2[0]||' ';\r\n     }\r\n});","app.controller(\"demoCtrl\", function(Api,$rootScope, $location, $ionicScrollDelegate, $loading, $scope, $http, $sessionStorage, $localStorage) {\n    function init() {\n        $scope.showItem = 0;\n        // $scope.categories = [{ name: \"tab0\" }, { name: \"tab1\" }, { name: \"tab2\" }, { name: \"tab3\" }, { name: \"tab4\" }, { name: \"tab5\" }, { name: \"tab6\" }, { name: \"tab7\" }];\n        initCategories();\n    }\n    $scope.toggleShow = function(index) {\n        if(index>=$scope.categories.length) return;\n        $scope.showItem = index;\n        var dom=document.getElementById(\"tab-cate-\"+index);\n        var left=dom.offsetLeft+dom.offsetWidth;\n        var offset=left-document.body.clientWidth/2;\n        $ionicScrollDelegate.$getByHandle('slideScroll').scrollTo(offset,0,true);\n    }\n\n     function initCategories() {\n         Api.get('categories').then(function(data) {\n             if (data.success) {\n                 $scope.categories = data.response.categories;\n                 $scope.categoryId = \"1\";\n             }\n         });\n     }\n    init();\n});","app.controller('homeCtrl', function( $timeout, $scope, Api, $ionicScrollDelegate) {\r\n        function init() {\r\n            $scope.page = 0;\r\n            $scope.has_more = true;\r\n            $scope.videos = [];\r\n            $scope.position='';\r\n            initSlideVideos();\r\n        }\r\n\r\n        function initSlideVideos(_order, _page, _limit) {\r\n            var order = _order || 'mr';\r\n            var page = _page || 1;\r\n            var limit = _limit || 5;\r\n            Api.get('videos/' + page + '?o=' + order + '&limit=' + limit).then(function(data) {\r\n                if (data.success) {\r\n                    $scope.slideVideos = data.response.videos;\r\n                }\r\n            });\r\n        }\r\n        $scope.allVideo = function(_order, _page, _limit) {\r\n            var order = _order || 'mv';\r\n            var page = _page || 1;\r\n            if (page == 1) {\r\n                $scope.searchKey = '';\r\n                $scope.page = 1;\r\n                $scope.videos = [];\r\n                $ionicScrollDelegate.$getByHandle('homeScroll').scrollTop(true);\r\n            }\r\n            var limit = _limit || 10;\r\n            Api.get('videos/' + page + '?o=' + order + '&limit=' + limit).then(function(data) {\r\n                if (data.success) {\r\n                    $scope.has_more = data.response.has_more;\r\n                    $scope.videos = $scope.videos.concat(data.response.videos);\r\n                    $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                }\r\n            });\r\n        }\r\n\r\n        $scope.loadNextPage = function() {\r\n            $scope.page++;\r\n            $scope.allVideo('mv', $scope.page);\r\n        }\r\n        \r\n\r\n        $scope.$on('$ionicView.loaded', function() {\r\n            console.log(\"home\",\"$ionicView.loaded\")\r\n            init();\r\n        });\r\n\r\n        $scope.$on('$ionicView.beforeEnter', function(e) {\r\n           $scope.isBtnTop = false;\r\n            console.log(\"star\",\"$ionicView.beforeEnter\");\r\n        });\r\n\r\n        $scope.scroll=function(){\r\n             var content=$ionicScrollDelegate.$getByHandle('homeScroll');\r\n             var pos=content.getScrollPosition();\r\n             if(pos.top>600){\r\n                  $timeout(function(){$scope.isBtnTop=true},300);\r\n               }else{\r\n                  $timeout(function(){$scope.isBtnTop=false},300);\r\n             }\r\n        }\r\n        $scope.scrollTop=function($event){\r\n            var ele=$event.target;\r\n            if(ele.classList) ele.classList.add(\"activated\");\r\n            else ele.className +=\" activated\";\r\n            $timeout(function(){\r\n                if(ele.classList) ele.classList.remove(\"activated\"); \r\n                else ele.className=ele.className.replace('activated','');\r\n            },300);\r\n            $ionicScrollDelegate.$getByHandle('homeScroll').scrollTop(true);\r\n        }\r\n    })\r\n\r\n\r\n\r\n"," app.controller('listCtrl', function( $timeout, $scope, Api, $ionicScrollDelegate) {\r\n\r\n     function init() {\r\n         $scope.categoryId = \"1\";\r\n         $scope.videos = [];\r\n         $scope.has_more = true;\r\n         initCategories();\r\n         $scope.isBtnTop = false;\r\n     }\r\n\r\n     function initCategories() {\r\n         Api.get('categories').then(function(data) {\r\n             if (data.success) {\r\n                 $scope.categories = data.response.categories;\r\n                 $scope.categoryId = \"1\";\r\n             }\r\n         });\r\n     }\r\n\r\n     $scope.getVideoByCHID = function(chid, _page, _limit) {\r\n         $scope.categoryId = chid;\r\n         $scope.has_more = true;\r\n         var page = _page || 1;\r\n         if (page == 1) {\r\n             $scope.page = 1;\r\n             $scope.videos = [];\r\n         }\r\n         var limit = _limit || 10;\r\n         Api.get('videos/' + page + '?c=' + chid + '&limit=' + limit).then(function(data) {\r\n             if (data.success) {\r\n                 $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                 $scope.has_more = data.response.has_more;\r\n                 $scope.videos = $scope.videos.concat(data.response.videos);\r\n             }\r\n         });\r\n     }\r\n\r\n\r\n     $scope.loadNextPage = function() {\r\n         $scope.page++;\r\n         $scope.getVideoByCHID($scope.categoryId, $scope.page);\r\n     }\r\n\r\n     $scope.change = function(categoryId) {\r\n         $scope.getVideoByCHID(categoryId);\r\n     }\r\n     $scope.$on('$ionicView.loaded', function() {\r\n         console.log(\"list\", \"$ionicView.loaded\")\r\n         init();\r\n     });\r\n\r\n     $scope.scroll = function() {\r\n         var content = $ionicScrollDelegate.$getByHandle('listScroll');\r\n         var pos = content.getScrollPosition();\r\n         if (pos.top > 600) {\r\n             $timeout(function() { $scope.isBtnTop = true }, 300);\r\n         } else {\r\n             $timeout(function() { $scope.isBtnTop = false }, 300);\r\n         }\r\n     }\r\n     $scope.scrollTop = function($event) {\r\n         var ele = $event.target;\r\n         if (ele.classList) ele.classList.add(\"activated\");\r\n         else ele.className += \" activated\";\r\n         $timeout(function() {\r\n             if (ele.classList) ele.classList.remove(\"activated\");\r\n             else ele.className = ele.className.replace('activated', '');\r\n         }, 300);\r\n         $ionicScrollDelegate.$getByHandle('listScroll').scrollTop(true);\r\n     }\r\n });","app.controller(\"personCtrl\",function($state,$scope,$ionicViewSwitcher){\r\n    $scope.$on('$ionicView.loaded', function() {\r\n            console.log(\"person\",\"$ionicView.loaded\")\r\n            // init();\r\n        });\r\n    $scope.goStar=function(){\r\n    \t$state.go(\"star\");\r\n    \t$ionicViewSwitcher.nextDirection(\"forward\");\r\n    }\r\n});","app.controller(\"searchCtrl\", function($timeout,Api, $location, $ionicScrollDelegate, $scope) {\n    $scope.searchVideo = function(_keyword, _page, _limit) {\n        var page = _page || 1;\n        if (page == 1) {\n            $scope.page = 1;\n            $scope.videos = [];\n            $ionicScrollDelegate.$getByHandle('searchScroll').scrollTop(true);\n        }\n        var keyword = _keyword || '';\n        if(!keyword) return;\n        var limit = _limit || 15;\n        var path = ($location.search().key == $scope.searchKey) ? 'jav' : 'search';\n        Api.get(path + '/' + encodeURIComponent(keyword) + '/' + page + '?limit=' + limit).then(function(data) {\n            if (data.success) {\n                $scope.has_more = data.response.has_more;\n                $scope.videos = $scope.videos.concat(data.response.videos);\n                $scope.$broadcast('scroll.infiniteScrollComplete');\n            }\n        });\n    }\n\n    $scope.submit = function(searchKey) {\n        $ionicScrollDelegate.$getByHandle('searchScroll').scrollTop(true);\n        $scope.searchVideo(searchKey);\n    }\n\n    $scope.loadNextPage = function(searchKey) {\n        $scope.page++;\n        $scope.searchVideo(searchKey, $scope.page);\n    }\n\n    $scope.$on('$ionicView.enter', function(e) {\n        init();\n        console.log(\"search\", \"$ionicView.enter\");\n    });\n\n    function init() {\n        $scope.searchKey=$location.search().key;\n        if($scope.searchKey)$scope.has_more=true;\n        document.getElementById(\"input_key\").focus();\n    }\n    $scope.scroll = function() {\n        var content = $ionicScrollDelegate.$getByHandle('searchScroll');\n        var pos = content.getScrollPosition();\n        if (pos.top > 600) {\n            $timeout(function() { $scope.isBtnTop = true },300);\n        } else {\n            $timeout(function() { $scope.isBtnTop = false },300);\n        }\n    }\n    $scope.scrollTop = function($event) {\n        var ele = $event.target;\n        if (ele.classList) ele.classList.add(\"activated\");\n        else ele.className += \" activated\";\n        $timeout(function() {\n            if (ele.classList) ele.classList.remove(\"activated\");\n            else ele.className = ele.className.replace('activated', '');\n        },300);\n        $ionicScrollDelegate.$getByHandle('searchScroll').scrollTop(true);\n    }\n    \n    $scope.search=function(keyword){\n        $scope.searchKey=keyword;\n        $scope.searchVideo(keyword);\n    }\n});","app.controller(\"starCtrl\", function($timeout,$ionicScrollDelegate, $scope,$localStorage) {\n    function init() {\n    \t$scope.videos=$localStorage.saveList;\n       \n    }\n    $scope.$on('$ionicView.enter', function(e) {\n            init();\n            console.log(\"star\",\"$ionicView.enter\");\n      });\n   $scope.scroll=function(){\n         var content=$ionicScrollDelegate.$getByHandle('starScroll');\n         var pos=content.getScrollPosition();\n         if(pos.top>500){\n              $timeout(function(){$scope.isBtnTop=true},600);\n           }else{\n              $timeout(function(){$scope.isBtnTop=false},600);\n         }\n    }\n    $scope.scrollTop=function($event){\n        var ele=$event.target;\n        if(ele.classList) ele.classList.add(\"activated\");\n        else ele.className +=\" activated\";\n        $timeout(function(){\n            if(ele.classList) ele.classList.remove(\"activated\"); \n            else ele.className=ele.className.replace('activated','');\n        },600);\n        $ionicScrollDelegate.$getByHandle('starScroll').scrollTop(true);\n    }\n});","app.controller('viewCtrl', function($timeout,Toast, $state, $localStorage, $scope, Api, $ionicScrollDelegate, $sce) {\n    $scope.$on('$ionicView.enter', function(e) {\n        init();\n        console.log(\"view\", \"$ionicView.enter\");\n    });\n\n    $scope.$on('$ionicView.beforeLeave', function(e) {\n        $scope.video_src = undefined;\n        console.log(\"view\", \"$ionicView.beforeLeave\");\n    });\n\n\n    function init() {\n        $scope.page = 0;\n        $scope.isBtnTop = false;\n        $scope.has_more = true;\n        $scope.videos = [];\n        $scope.video = $localStorage.video;\n        $scope.allVideo($scope.page);\n        $scope.video_src = $sce.trustAsResourceUrl($scope.video.embedded_url);\n    }\n    $scope.allVideo = function(_order, _page, _limit) {\n        var order = _order || 'mv';\n        var page = _page || 1;\n        if (page == 1) {\n            $scope.searchKey = '';\n            $scope.page = 1;\n            $scope.videos = [];\n            $ionicScrollDelegate.$getByHandle('listScroll').scrollTop(true);\n        }\n        var limit = _limit || 15;\n        Api.get('videos/' + page + '?o=' + order + '&limit=' + limit).then(function(data) {\n            if (data.success) {\n                $scope.has_more = data.response.has_more;\n                $scope.videos = $scope.videos.concat(data.response.videos);\n                $scope.$broadcast('scroll.infiniteScrollComplete');\n            }\n        });\n    }\n\n    $scope.loadNextPage = function() {\n        $scope.page++;\n        $scope.allVideo('', $scope.page);\n    }\n\n    $scope.scroll = function() {\n        var content = $ionicScrollDelegate.$getByHandle('viewScroll');\n        var pos = content.getScrollPosition();\n        if (pos.top > 1000) {\n            $timeout(function() { $scope.isBtnTop = true }, 600);\n        } else {\n            $timeout(function() { $scope.isBtnTop = false }, 600);\n        }\n        $scope.isBtnTop = true \n    }\n    $scope.scrollTop = function($event) {\n        var ele = $event.target;\n        if (ele.classList) ele.classList.add(\"activated\");\n        else ele.className += \" activated\";\n        $timeout(function() {\n            if (ele.classList) ele.classList.remove(\"activated\");\n            else ele.className = ele.className.replace('activated', '');\n        }, 600);\n        $ionicScrollDelegate.$getByHandle('viewScroll').scrollTop(true);\n    }\n})"]}