"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{3928:function(e,t,n){n.r(t),n.d(t,{ChatItem:function(){return m},ChatList:function(){return x}});var s=n(9268),i=n(9862),a=n(1034),c=n.n(a),l=n(2223),r=n(9658),d=n(103),o=n(7005),h=n(9671);function m(e){return(0,s.jsx)(l._l,{draggableId:"".concat(e.id),index:e.index,children:t=>(0,s.jsxs)("div",{className:"".concat(c()["chat-item"]," ").concat(e.selected&&c()["chat-item-selected"]),onClick:e.onClick,ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,children:[e.narrow?(0,s.jsx)("div",{className:c()["chat-item-narrow"],children:e.count}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:c()["chat-item-title"],children:e.title}),(0,s.jsxs)("div",{className:c()["chat-item-info"],children:[(0,s.jsx)("div",{className:c()["chat-item-count"],children:d.ZP.ChatItem.ChatItemCount(e.count)}),(0,s.jsx)("div",{className:c()["chat-item-date"],children:e.time})]})]}),(0,s.jsx)("div",{className:c()["chat-item-delete"],onClick:e.onDelete,children:(0,s.jsx)(i.Z,{})})]})})}function x(e){let[t,n,i,a,x]=(0,r.aK)(e=>[e.sessions,e.currentSessionIndex,e.selectSession,e.removeSession,e.moveSession]),u=(0,r.aK)(),p=(0,o.s0)(),f=e=>{let{destination:t,source:n}=e;t&&(t.droppableId!==n.droppableId||t.index!==n.index)&&x(n.index,t.index)};return(0,s.jsx)(l.Z5,{onDragEnd:f,children:(0,s.jsx)(l.bK,{droppableId:"chat-list",children:a=>(0,s.jsxs)("div",{className:c()["chat-list"],ref:a.innerRef,...a.droppableProps,children:[t.map((t,a)=>(0,s.jsx)(m,{title:t.messages.length>0?t.messages[0].content:d.ZP.Store.DefaultTopic,time:t.lastUpdate,count:t.messages.length,id:t.id,index:a,selected:a===n,onClick:()=>{p(h.y$.Chat),i(a)},onDelete:()=>{(!e.narrow||confirm(d.ZP.Home.DeleteChat))&&u.deleteSession(a)},narrow:e.narrow},t.id)),a.placeholder]})})})}}}]);